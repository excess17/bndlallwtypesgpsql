(window["webpackJsonpalltywpsql-table-widget"]=window["webpackJsonpalltywpsql-table-widget"]||[]).push([[0],{112:function(e){e.exports=JSON.parse('{"error":{"dataLoading":"Error during server connection"},"common":{"notAuthenticated":"User is not authenticated.","loadingMore":"Loading more...","download":"Download file","dataDeleted":"Alltywpsql successfully deleted","yes":"Yes","no":"No","delete":""},"pagination":{"ariaLabels":{"firstPage":"first page","previousPage":"previous page","nextPage":"next page","lastPage":"last page"}},"filters":{"field":"Field","value":"Value","addFilter":"Add filter","clearFilters":"Clear filters","filter":"Filter","operator":"Operator","operators":{"equals":"equals","in":"in","specified":"specified","unspecified":"unspecified","contains":"contains"}},"entities":{"alltywpsql":{"deleteDialog":{"title":"Delete alltywpsql","description":"Are you sure?"},"noItems":"No alltywpsqls available","id":"entities.alltywpsql.id","stringa":"entities.alltywpsql.stringa","intero":"entities.alltywpsql.intero","lungo":"entities.alltywpsql.lungo","flotto":"entities.alltywpsql.flotto","doppio":"entities.alltywpsql.doppio","grandecimale":"entities.alltywpsql.grandecimale","datalocale":"entities.alltywpsql.datalocale","istante":"entities.alltywpsql.istante","zonadatatempo":"entities.alltywpsql.zonadatatempo","booleano":"entities.alltywpsql.booleano","enumeratore":"entities.alltywpsql.enumeratore"}}}')},113:function(e){e.exports=JSON.parse('{"error":{"dataLoading":"Errore durante la connessione al server"},"common":{"notAuthenticated":"L\'utente non \xe8 autenticato.","loadingMore":"Caricamento in corso...","download":"Scarica file","dataDeleted":"Alltywpsql eliminato/a con successo","yes":"Si","no":"No","delete":""},"pagination":{"ariaLabels":{"firstPage":"prima pagina","previousPage":"pagina precedente","nextPage":"pagina successiva","lastPage":"ultima pagina"}},"filters":{"field":"Campo","value":"Valore","addFilter":"Aggiungi filtro","clearFilters":"Rimuovi filtri","filter":"Filtro","operator":"Operatore","operators":{"equals":"\xe8 uguale a","in":"in","specified":"specificato","unspecified":"non specificato","contains":"contiene"}},"entities":{"alltywpsql":{"deleteDialog":{"title":"Elimina alltywpsql","description":"Sei sicuro/a?"},"noItems":"Nessun alltywpsqls disponibile","id":"entit\xe0.alltywpsql.id","stringa":"entit\xe0.alltywpsql.stringa","intero":"entit\xe0.alltywpsql.intero","lungo":"entit\xe0.alltywpsql.lungo","flotto":"entit\xe0.alltywpsql.flotto","doppio":"entit\xe0.alltywpsql.doppio","grandecimale":"entit\xe0.alltywpsql.grandecimale","datalocale":"entit\xe0.alltywpsql.datalocale","istante":"entit\xe0.alltywpsql.istante","zonadatatempo":"entit\xe0.alltywpsql.zonadatatempo","booleano":"entit\xe0.alltywpsql.booleano","enumeratore":"entit\xe0.alltywpsql.enumeratore"}}}')},130:function(e,t,a){e.exports=a(151)},151:function(e,t,a){"use strict";a.r(t);var n=a(25),l=a(26),r=a(27),i=a(30),o=a(115),c=a(6),s=a(0),u=a.n(s),d=a(12),p=a.n(d),m=a(93),f=a.n(m),b=a(216),g=a(114),h=a(222),v=a(215),y=a(15),E=u.a.createContext(null),w=a(14),O=[5,10,25],j={currentPage:0,itemsPerPage:O[O.length-1]},k=u.a.createContext({pagination:j}),C=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var l;Object(n.a)(this,a),l=t.call(this,e);var r="pagination"===e.paginationMode?O[0]:O[O.length-1];return l.state={pagination:Object(c.a)(Object(c.a)({},j),{},{itemsPerPage:r})},l.onChangeItemsPerPage=l.onChangeItemsPerPage.bind(Object(w.a)(l)),l.onChangeCurrentPage=l.onChangeCurrentPage.bind(Object(w.a)(l)),l}return Object(l.a)(a,[{key:"onChangeItemsPerPage",value:function(e){var t=e.target.value,a=parseInt(t,10);this.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},{pagination:Object(c.a)(Object(c.a)({},e.pagination),{},{itemsPerPage:a,currentPage:0})})}))}},{key:"onChangeCurrentPage",value:function(e){var t=parseInt(e,10);this.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},{pagination:Object(c.a)(Object(c.a)({},e.pagination),{},{currentPage:t})})}))}},{key:"render",value:function(){var e=this.state.pagination,t=this.props.children;return u.a.createElement(k.Provider,{value:Object(c.a)(Object(c.a)({},e),{},{onChangeCurrentPage:this.onChangeCurrentPage,onChangeItemsPerPage:this.onChangeItemsPerPage})},t)}}]),a}(u.a.Component);C.defaultProps={paginationMode:""};var q=a(24),P=a.n(q),D=a(18),F=a(45),x=a(20),R=a(214),S=a(202),I=a(76),N=a.n(I),A=a(5),M=a(111),L=a.n(M),z=a(4),T=a.n(z),U=(T.a.shape({initialized:T.a.bool,authenticated:T.a.bool}),a(77));T.a.oneOfType([T.a.func,T.a.shape({current:T.a.elementType}),T.a.shape(null)]);var W=function(e){var t=e.children,a=e.keycloak;return a.initialized&&a.authenticated?t:null},H=function(e){var t=e.children,a=e.keycloak;return a.initialized&&a.authenticated?null:t},K=a(201),X=a(221),J=a(200),V=a(198),G=a(199),Y=a(197),B=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={open:!1},l.handleOpen=l.handleOpen.bind(Object(w.a)(l)),l.discard=l.discard.bind(Object(w.a)(l)),l.confirm=l.confirm.bind(Object(w.a)(l)),l}return Object(l.a)(a,[{key:"handleOpen",value:function(){this.setState((function(){return{open:!0}}))}},{key:"handleClose",value:function(e){var t=this.props.onCloseDialog;this.setState((function(){return{open:!1}})),t(e)}},{key:"discard",value:function(){this.handleClose(a.DISCARD)}},{key:"confirm",value:function(){this.handleClose(a.CONFIRM)}},{key:"render",value:function(){var e=this.state.open,t=this.props,a=t.dialog,n=a.title,l=a.description,r=a.confirmLabel,i=a.discardLabel,o=t.Renderer;return u.a.createElement("div",null,u.a.createElement(o,{onClick:this.handleOpen}),u.a.createElement(X.a,{open:e,onClose:this.handleClose,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description"},u.a.createElement(Y.a,{id:"confirmation-dialog-title"},n),u.a.createElement(V.a,null,u.a.createElement(G.a,{id:"confirmation-dialog-description"},l)),u.a.createElement(J.a,null,u.a.createElement(K.a,{onClick:this.discard,autoFocus:!0},i),u.a.createElement(K.a,{onClick:this.confirm,color:"primary"},r))))}}]),a}(s.PureComponent);B.CONFIRM="CONFIRM",B.DISCARD="DISCARD";var Q=a(102),Z=a(218);function $(e){var t=function(t){Object(r.a)(o,t);var a=Object(i.a)(o);function o(){var t;Object(n.a)(this,o);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(t=a.call.apply(a,[this].concat(r))).renderWrappedComponent=function(a){var n=t.props,l=n.forwardedRef,r=Object(U.a)(n,["forwardedRef"]);return u.a.createElement(e,Object.assign({},r,{ref:l,pagination:a}))},t}return Object(l.a)(o,[{key:"render",value:function(){return u.a.createElement(k.Consumer,null,this.renderWrappedComponent)}}]),o}(s.Component);return t.defaultProps={forwardedRef:null},Object(s.forwardRef)((function(e,a){return u.a.createElement(t,Object.assign({},e,{forwardedRef:a}))}))}var _=a(103),ee=a.n(_),te=a(104),ae=a.n(te),ne=a(105),le=a.n(ne),re=a(106),ie=a.n(re),oe=Object(x.b)()(Object(A.a)({root:{flexShrink:0,marginLeft:"5px"}})((function(e){var t=e.classes,a=e.count,n=e.page,l=e.rowsPerPage,r=e.onChangePage,i=e.t;return u.a.createElement("div",{className:t.root},u.a.createElement(S.a,{onClick:function(){r(0)},disabled:0===n,"aria-label":i("pagination.ariaLabels.firstPage")},u.a.createElement(ee.a,null)),u.a.createElement(S.a,{onClick:function(){r(n-1)},disabled:0===n,"aria-label":i("pagination.ariaLabels.previousPage")},u.a.createElement(ae.a,null)),u.a.createElement(S.a,{onClick:function(){r(n+1)},disabled:n>=Math.ceil(a/l)-1,"aria-label":i("pagination.ariaLabels.nextPage")},u.a.createElement(le.a,null)),u.a.createElement(S.a,{onClick:function(){r(Math.max(0,Math.ceil(a/l)-1))},disabled:n>=Math.ceil(a/l)-1,"aria-label":i("pagination.ariaLabels.lastPage")},u.a.createElement(ie.a,null)))}))),ce=(T.a.shape({id:T.a.number,stringa:T.a.string,intero:T.a.number,lungo:T.a.number,flotto:T.a.number,doppio:T.a.number,grandecimale:T.a.number,datalocale:T.a.string,istante:T.a.string,zonadatatempo:T.a.string,booleano:T.a.bool,enumeratore:T.a.string}),Object(x.b)()($((function(e){var t=e.children,a=e.pagination,n=e.paginationMode,l=e.items,r=e.count,i=e.t;return"infinite-scroll"===n?u.a.createElement(Q.a,{dataLength:l.length,next:function(){return a.onChangeCurrentPage(a.currentPage+1)},hasMore:l.length<r,loader:u.a.createElement("div",null,i("common.loadingMore"))},t):"pagination"===n?u.a.createElement(u.a.Fragment,null,t,r>0&&u.a.createElement(Z.a,{component:"div",rowsPerPageOptions:O,count:r,rowsPerPage:a.itemsPerPage,page:a.currentPage,SelectProps:{native:!0},onChangePage:a.onChangeCurrentPage,onChangeRowsPerPage:a.onChangeItemsPerPage,ActionsComponent:oe})):t})))),se=a(153),ue=a(48),de=a(217),pe=a(207),me=a(225),fe=a(208),be=a(224),ge=(T.a.shape({field:T.a.string,operator:T.a.string,value:T.a.string}),["specified","unspecified"]),he=["equals","in"].concat(ge),ve=["contains"],ye=[{value:"greaterThan",title:">"},{value:"lessThan",title:"<"},{value:"greaterOrEqualThan",title:">="},{value:"lessOrEqualThan",title:"<="}],Ee=["stringa","enumeratore"],we=["datalocale","istante","zonadatatempo"],Oe=["id","intero","lungo","flotto","doppio","grandecimale"],je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.filter((function(e){return e.field&&e.operator})).reduce((function(e,t){switch(t.operator){case"specified":return[].concat(Object(D.a)(e),["".concat(encodeURIComponent("".concat(t.field,".specified")),"=true")]);case"unspecified":return[].concat(Object(D.a)(e),["".concat(encodeURIComponent("".concat(t.field,".specified")),"=false")])}return[].concat(Object(D.a)(e),["".concat(encodeURIComponent("".concat(t.field,".").concat(t.operator)),"=").concat(encodeURIComponent(t.value))])}),[]).join("&"):""},ke=Object(A.a)((function(){return{formControl:{minWidth:120,width:"90%"},icon:{color:"rgba(0, 0, 0, 0.54)"}}}),{withTheme:!0})(Object(x.b)()((function(e){var t,a=e.filter,n=e.t,l=e.update,r=e.remove,i=e.filterId,o=e.classes,c=(t=a.field,[].concat(Object(D.a)(he),Object(D.a)(Ee.includes(t)?ve:[]),Object(D.a)(we.includes(t)?ye:[]),Object(D.a)(Oe.includes(t)?ye:[]))),s=function(e){l(i,Object(ue.a)({},e.target.name,e.target.value))};return u.a.createElement(pe.a,{container:!0},u.a.createElement(pe.a,{item:!0,xs:5},u.a.createElement(fe.a,{className:o.formControl},u.a.createElement(be.a,{id:"".concat(i,"-field-label")},n("filters.field")),u.a.createElement(de.a,{native:!0,labelId:"".concat(i,"-field-label"),id:"".concat(i,"-field"),name:"field",value:a.field,onChange:s},u.a.createElement("option",{value:""}),u.a.createElement("option",{value:"id"},n("entities.alltywpsql.id")),u.a.createElement("option",{value:"stringa"},n("entities.alltywpsql.stringa")),u.a.createElement("option",{value:"intero"},n("entities.alltywpsql.intero")),u.a.createElement("option",{value:"lungo"},n("entities.alltywpsql.lungo")),u.a.createElement("option",{value:"flotto"},n("entities.alltywpsql.flotto")),u.a.createElement("option",{value:"doppio"},n("entities.alltywpsql.doppio")),u.a.createElement("option",{value:"grandecimale"},n("entities.alltywpsql.grandecimale")),u.a.createElement("option",{value:"datalocale"},n("entities.alltywpsql.datalocale")),u.a.createElement("option",{value:"istante"},n("entities.alltywpsql.istante")),u.a.createElement("option",{value:"zonadatatempo"},n("entities.alltywpsql.zonadatatempo")),u.a.createElement("option",{value:"booleano"},n("entities.alltywpsql.booleano")),u.a.createElement("option",{value:"enumeratore"},n("entities.alltywpsql.enumeratore"))))),u.a.createElement(pe.a,{item:!0,xs:3},!!a.field&&u.a.createElement(fe.a,{className:o.formControl},u.a.createElement(be.a,{id:"".concat(i,"-operator-label")},n("filters.operator")),u.a.createElement(de.a,{native:!0,labelId:"".concat(i,"-operator-label"),id:"".concat(i,"-operator"),name:"operator",value:a.operator,onChange:s},u.a.createElement("option",{value:""}),c.map((function(e){return"string"!==typeof e?u.a.createElement("option",{key:e.value,value:e.value},e.title):u.a.createElement("option",{key:e,value:e},n("filters.operators.".concat(e)))}))))),u.a.createElement(pe.a,{item:!0,xs:3},!!a.operator&&!ge.includes(a.operator)&&u.a.createElement(fe.a,{className:o.formControl},u.a.createElement(me.a,{disabled:!a.field,id:"standard-required",name:"value",value:a.value,onChange:s,margin:"normal"}))),u.a.createElement(pe.a,{item:!0,xs:1},u.a.createElement(S.a,{"aria-label":"Remove filter",className:o.icon,onClick:function(){r(i)}},u.a.createElement(N.a,null))))}))),Ce=function(e){var t=e.classes,a=e.filters,n=e.applyFilter,l=e.update,r=e.remove,i=e.clear,o=e.add,c=e.t,s=e.error,d=a.length>0;return u.a.createElement(se.a,{className:t.root},u.a.createElement(K.a,{variant:"contained",className:t.button,onClick:o,"data-testid":"button-add-filter"},c("filters.addFilter")),d&&u.a.createElement(K.a,{className:t.button,onClick:i},c("filters.clearFilters")),a.map((function(e,t){var a="".concat(e.field).concat(e.operator).concat(t);return u.a.createElement(ke,{key:a,update:l,remove:r,filterId:t,filter:e})})),d&&u.a.createElement(K.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){var e=d&&a.map((function(e){return e.field&&e.operator&&!ge.includes(e.operator)?e.value?"":"missing filter parameters":""})).filter((function(e){return!!e}));e&&e.length>0?s(e[0]):n()}},c("filters.filter")))};Ce.defaultProps={applyFilter:function(){},add:function(){},update:function(){},remove:function(){},clear:function(){},error:function(){}};var qe=Object(A.a)({root:{flexGrow:1,padding:"5px",marginRight:"65px"},paper:{padding:"5px",textAlign:"center",height:"30px"},icon:{padding:"5px",color:"#555555","&:hover":{color:"#000000"}},button:{margin:"5px"}})(Object(x.b)()(Ce)),Pe=a(210),De=a(211),Fe=a(212),xe=a(203),Re=a(209),Se=a(220),Ie=function(e){var t=e.items,a=e.onSelect,n=e.classes,l=e.t,r=e.i18n,i=e.Actions,o=t.map((function(e){return u.a.createElement(Re.a,{hover:!0,className:n.rowRoot,key:e.id,onClick:function(){return a(e)}},u.a.createElement(xe.a,null,u.a.createElement("span",null,e.id)),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.stringa)),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.intero)),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.lungo)),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.flotto)),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.doppio)),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.grandecimale)),u.a.createElement(xe.a,null,u.a.createElement("span",null,new Date(e.datalocale).toLocaleDateString(r.language))),u.a.createElement(xe.a,null,u.a.createElement("span",null,new Date(e.istante).toLocaleString(r.language))),u.a.createElement(xe.a,null,u.a.createElement("span",null,new Date(e.zonadatatempo).toLocaleString(r.language))),u.a.createElement(xe.a,{align:"center"},u.a.createElement(Se.a,{disabled:!0,checked:e.booleano})),u.a.createElement(xe.a,null,u.a.createElement("span",null,e.enumeratore)),i&&u.a.createElement(xe.a,null,u.a.createElement(i,{item:e})))}));return t.length?u.a.createElement(Pe.a,{className:n.tableRoot,stickyHeader:!0},u.a.createElement(De.a,null,u.a.createElement(Re.a,null,u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.id"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.stringa"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.intero"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.lungo"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.flotto"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.doppio"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.grandecimale"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.datalocale"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.istante"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.zonadatatempo"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.booleano"))),u.a.createElement(xe.a,null,u.a.createElement("span",null,l("entities.alltywpsql.enumeratore"))),i&&u.a.createElement(xe.a,null))),u.a.createElement(Fe.a,null,o)):u.a.createElement("div",{className:n.noItems},l("entities.alltywpsql.noItems"))};Ie.defaultProps={onSelect:function(){},Actions:null};var Ne=Object(A.a)({tableRoot:{marginTop:"10px"},rowRoot:{cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},noItems:{margin:"15px"}})(Object(x.b)()(Ie)),Ae=a(3),Me=a(226),Le=a(213),ze=a(78),Te=a(108),Ue=a.n(Te),We=a(109),He=a.n(We),Ke=a(107),Xe=a.n(Ke),Je=a(110),Ve=a.n(Je),Ge={success:Xe.a,error:Ue.a,info:He.a},Ye={success:3e3,error:null,info:5e3},Be=function e(t){var a=t.className,n=t.classes,l=t.status,r=t.message,i=t.onClose,o=!!r,c=l||e.INFO,s=Ge[c],d=Ye[c],p=u.a.createElement("span",{className:n.message},u.a.createElement(s,{className:Object(Ae.a)(n.icon,n.iconStatus)}),r);return u.a.createElement(Me.a,{open:o,onClose:i,autoHideDuration:d},u.a.createElement(Le.a,{className:Object(Ae.a)(n[c],a),message:p,action:[u.a.createElement(S.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},u.a.createElement(Ve.a,{className:n.icon}))]}))};Be.SUCCESS="success",Be.ERROR="error",Be.INFO="info",Be.defaultProps={message:null,status:null,className:"",onClose:function(){}};var Qe=Object(A.a)((function(e){return{message:{display:"flex",alignItems:"center"},icon:{fontSize:20},iconStatus:{opacity:.9,marginRight:e.spacing(1)},success:{backgroundColor:ze.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main}}}),{withTheme:!0})(Be),Ze=function(){return{headers:new Headers({Authorization:"Bearer ".concat(window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated?window.entando.keycloak.token:""),"Content-Type":"application/json"})}},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=!(!t&&!a),l="".concat(t).concat(t?"&":"").concat(a);return"".concat(e).concat(n?"?".concat(l):"")},_e=function(){var e=Object(F.a)(P.a.mark((function e(t,a){var n,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:if(n=e.sent,l=Object(c.a)({},n.headers.has("X-Total-Count")?{"X-Total-Count":parseInt(n.headers.get("X-Total-Count"),10)}:{}),204!==n.status){e.next=6;break}return e.abrupt("return",{alltywpsqls:""});case 6:if(!(n.status>=200&&n.status<300)){e.next=14;break}return e.next=9,n.json();case 9:e.t1=e.sent,e.t2=l,e.t0={alltywpsqls:e.t1,headers:e.t2},e.next=15;break;case 14:e.t0=Promise.reject(new Error(n.statusText||n.status));case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),et=function(){var e=Object(F.a)(P.a.mark((function e(t,a){var n,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"/").concat("api/alltywpsqls","/").concat(a),l=Object(c.a)(Object(c.a)({},Ze()),{},{method:"DELETE"}),e.abrupt("return",_e(n,l));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),tt=function(){var e=Object(F.a)(P.a.mark((function e(t,a){var n,l,r,i,o,s,u,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.filters,l=void 0===n?[]:n,r=a.pagination,i=a.mode,o=je(l),s=r?"page=".concat(r.page,"&size=").concat(r.rowsPerPage):"",u=$e("".concat(t,"/").concat("api/alltywpsqls").concat("count"===i?"/count":""),o,s),d=Object(c.a)(Object(c.a)({},Ze()),{},{method:"GET"}),e.abrupt("return",_e(u,d));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),at={formUpdate:"alltywpsql.form.update",formCreate:"alltywpsql.form.create",formDelete:"alltywpsql.form.delete"},nt="alltywpsql.table.select",lt="alltywpsql.table.add",rt="alltywpsql.table.error",it="alltywpsql.table.delete",ot="alltywpsql-filter/addFilter",ct="alltywpsql-filter/updateFilter",st="alltywpsql-filter/deleteFilter",ut="alltywpsql-filter/clearFilters",dt="alltywpsql-table/readAll",pt="alltywpsql-table/error",mt="alltywpsql-table/clearErrors",ft="alltywpsql-table/clearItems",bt="alltywpsql-table/create",gt="alltywpsql-table/update",ht="alltywpsql-table/delete",vt={filters:[],items:[],count:0,notificationMessage:null,notificationStatus:null,loading:!1},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return Object(c.a)(Object(c.a)({},e),{},{filters:[].concat(Object(D.a)(e.filters),[{field:"",operator:"",value:""}])});case ct:return Object(c.a)(Object(c.a)({},e),{},{filters:e.filters.map((function(e,a){return a===t.payload.filterId?Object(c.a)(Object(c.a)({},e),t.payload.values):e}))});case st:return Object(c.a)(Object(c.a)({},e),{},{items:vt.items,count:vt.count,filters:e.filters.filter((function(e,a){return a!==t.payload.filterId}))});case ut:return Object(c.a)(Object(c.a)({},e),{},{items:vt.items,count:vt.count,filters:vt.filters});case ft:return Object(c.a)(Object(c.a)({},e),{},{items:vt.items,count:vt.count});case dt:return Object(c.a)(Object(c.a)({},e),{},{items:t.payload.items,count:t.payload.count});case pt:return Object(c.a)(Object(c.a)({},e),{},{notificationMessage:t.payload.message,notificationStatus:t.payload.status});case mt:return Object(c.a)(Object(c.a)({},e),{},{notificationMessage:null});case bt:case at.formCreate:return Object(c.a)(Object(c.a)({},e),{},{items:[].concat(Object(D.a)(e.items),[t.payload])});case gt:case at.formUpdate:var a=e.items.findIndex((function(e){return e.id===t.payload.id})),n=Object(D.a)(e.items);return n[a]=t.payload,Object(c.a)(Object(c.a)({},e),{},{items:n});case ht:case at.formDelete:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.payload.id}))});default:return e}},Et=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state=vt,l.handleDelete=l.handleDelete.bind(Object(w.a)(l)),l.handleError=l.handleError.bind(Object(w.a)(l)),l.closeNotification=l.closeNotification.bind(Object(w.a)(l)),l.fetchData=l.fetchData.bind(Object(w.a)(l)),l.updateFilter=l.updateFilter.bind(Object(w.a)(l)),l.addFilter=l.addFilter.bind(Object(w.a)(l)),l.removeFilter=l.removeFilter.bind(Object(w.a)(l)),l.clearFilters=l.clearFilters.bind(Object(w.a)(l)),l.applyFilters=l.applyFilters.bind(Object(w.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.keycloak;e.initialized&&e.authenticated&&this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.keycloak,n=t.paginationMode,l=t.pagination,r=a.initialized&&a.authenticated,i=e.keycloak.authenticated!==r,o=["pagination","infinite-scroll"].includes(n)&&(e.pagination.currentPage!==l.currentPage||e.pagination.itemsPerPage!==l.itemsPerPage);r&&(i||o)&&this.fetchData()}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState((function(t){return yt(t,e)}),t)}},{key:"fetchData",value:function(){var e=Object(F.a)(P.a.mark((function e(){var t,a,n,l,r,i,o,s,u,d,p,m,f;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.filters,n=t.items,l=this.props,r=l.keycloak,i=l.paginationMode,o=l.pagination,s=l.serviceUrl,!(r.initialized&&r.authenticated)){e.next=18;break}return e.prev=4,u=Object(c.a)({filters:a},""===i?{}:{pagination:{page:o.currentPage,rowsPerPage:o.itemsPerPage}}),e.next=8,tt(s,u);case 8:d=e.sent,p=d.alltywpsqls,m=d.headers,f=m&&m["X-Total-Count"]||0,this.dispatch({type:dt,payload:{items:"infinite-scroll"===i?[].concat(Object(D.a)(n),Object(D.a)(p)):p,count:f}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),this.handleError(e.t0);case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateFilter",value:function(e,t){this.dispatch({type:ct,payload:{values:t,filterId:e}})}},{key:"addFilter",value:function(){this.dispatch({type:ot})}},{key:"removeFilter",value:function(e){this.dispatch({type:st,payload:{filterId:e}},this.fetchData)}},{key:"clearFilters",value:function(){this.dispatch({type:ut},this.fetchData)}},{key:"applyFilters",value:function(){this.dispatch({type:ft},this.fetchData)}},{key:"closeNotification",value:function(){this.dispatch({type:mt})}},{key:"handleError",value:function(e){var t=this.props,a=t.onError,n=t.t;a(e),this.dispatch({type:pt,payload:{message:n("error.dataLoading"),status:Qe.ERROR}})}},{key:"handleDelete",value:function(){var e=Object(F.a)(P.a.mark((function e(t){var a,n,l,r,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.t,l=a.onDelete,r=a.keycloak,i=a.serviceUrl,!(r.initialized&&r.authenticated)){e.next=14;break}return e.prev=3,e.next=6,et(i,t.id);case 6:l(t),this.dispatch({type:ht,payload:{id:t.id}}),this.setState({notificationMessage:n("common.dataDeleted"),notificationStatus:Qe.SUCCESS}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleConfirmationDialogAction",value:function(e,t){switch(e){case B.CONFIRM:this.handleDelete(t)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.count,l=t.notificationMessage,r=t.notificationStatus,i=t.filters,o=this.props,c=o.classes,s=o.onSelect,d=o.onAdd,p=o.onDelete,m=o.t,f=o.keycloak,b=o.paginationMode,g=void 0===b?"":b,h=m("common.delete");return u.a.createElement(u.a.Fragment,null,u.a.createElement(H,{keycloak:f},m("common.notAuthenticated")),u.a.createElement(W,{keycloak:f},u.a.createElement(R.a,{color:"primary","aria-label":"add",className:c.fab,onClick:d},u.a.createElement(L.a,null)),u.a.createElement(qe,{applyFilter:this.applyFilters,add:this.addFilter,update:this.updateFilter,remove:this.removeFilter,clear:this.clearFilters,filters:i,error:this.handleError}),u.a.createElement(ce,{items:a,paginationMode:g,count:n},u.a.createElement("div",{className:c.tableWrapper},u.a.createElement(Ne,{items:a,onSelect:s,Actions:function(t){var a=t.item;return p?u.a.createElement(B,{onCloseDialog:function(t){return e.handleConfirmationDialogAction(t,a)},dialog:{title:m("entities.alltywpsql.deleteDialog.title"),description:m("entities.alltywpsql.deleteDialog.description"),confirmLabel:m("common.yes"),discardLabel:m("common.no")},Renderer:function(e){var t=e.onClick;return u.a.createElement(S.a,{"aria-label":h,title:h,onClick:t},u.a.createElement(N.a,null))}}):""}})))),u.a.createElement(Qe,{status:r,message:l,onClose:this.closeNotification}))}}]),a}(s.Component);Et.defaultProps={onAdd:function(){},onDelete:function(){},onError:function(){},onSelect:function(){},paginationMode:"",pagination:null,serviceUrl:""};var wt=function(e){var t=function(t){Object(r.a)(o,t);var a=Object(i.a)(o);function o(){var t;Object(n.a)(this,o);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(t=a.call.apply(a,[this].concat(r))).renderWrappedComponent=function(a){var n=t.props,l=n.forwardedRef,r=Object(U.a)(n,["forwardedRef"]);return u.a.createElement(e,Object.assign({},r,{ref:l,keycloak:a}))},t}return Object(l.a)(o,[{key:"render",value:function(){return u.a.createElement(E.Consumer,null,this.renderWrappedComponent)}}]),o}(s.Component);return t.defaultProps={forwardedRef:function(){}},Object(s.forwardRef)((function(e,a){return u.a.createElement(t,Object.assign({},e,{forwardedRef:a}))}))}(Object(A.a)({fab:{float:"right"},tableWrapper:{width:"100%",overflowX:"auto",overflowY:"hidden"}})(Object(x.b)(void 0,{withRef:!0})($(Et)))),Ot=a(85),jt={en:a(112),it:a(113)},kt=Object.keys(jt).reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(ue.a)({},t,Object(ue.a)({},"translation",jt[t])))}),{}),Ct=(Ot.a.t,function(e){!function(e,t){Ot.a.use(x.a).init({defaultNs:"translation",interpolation:{escapeValue:!1},resources:kt,lng:e||t,fallbackLng:t,react:{useSuspense:!1}})}(e,"en")}),qt=function(e){return function(t){return function(e,t){var a=new CustomEvent(e,{detail:{payload:t}});window.dispatchEvent(a)}(e,t)}},Pt=function(){return window&&window.entando&&window.entando.keycloak&&Object(c.a)(Object(c.a)({},window.entando.keycloak),{},{initialized:!0})||{initialized:!1}},Dt={hidden:"hidden",locale:"locale",paginationMode:"pagination-mode",disableDefaultEventHandler:"disable-default-event-handler",serviceUrl:"service-url"},Ft=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).keycloak=Pt(),e.onAdd=qt(lt),e.onError=qt(rt),e.onSelect=qt(nt),e.onDelete=qt(it),e.reactRootRef=u.a.createRef(),e}return Object(l.a)(a,[{key:"attributeChangedCallback",value:function(e,t,a){if(this.container&&t!==a){if(!Object.values(Dt).includes(e))throw new Error("Untracked changed attribute: ".concat(e));e===Dt.disableDefaultEventHandler&&this.onToggleDisableDefaultEvent(),this.render()}}},{key:"connectedCallback",value:function(){var e=this;this.container=document.createElement("div"),this.mountPoint=document.createElement("div"),this.container.appendChild(this.mountPoint);var t,a,n=this.attachShadow({mode:"open"});n.appendChild(this.container),this.jss=Object(y.b)(Object(c.a)(Object(c.a)({},Object(b.a)()),{},{insertionPoint:this.container})),this.muiTheme=Object(g.a)({props:{MuiDialog:{container:this.mountPoint}}}),this.keycloak=Object(c.a)(Object(c.a)({},Pt()),{},{initialized:!0}),this.unsubscribeFromKeycloakEvent=(t="keycloak",a=function(){e.keycloak=Object(c.a)(Object(c.a)({},Pt()),{},{initialized:!0}),e.render()},window.addEventListener(t,a),function(){window.removeEventListener(t,a)}),this.onToggleDisableDefaultEvent(),this.render(),f()(n)}},{key:"disconnectedCallback",value:function(){this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent()}},{key:"defaultWidgetEventHandler",value:function(){var e=this;return function(t){var a=function(e){var t=e.type,a=e.detail;return{type:t,payload:a.payload,error:a.error,meta:a.meta}}(t);e.reactRootRef.current.dispatch(a)}}},{key:"onToggleDisableDefaultEvent",value:function(){var e,t,a="true"===this.getAttribute(Dt.disableDefaultEventHandler);if(a!==this.defaultEventHandlerDisabled){if(a)this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent();else{var n=this.defaultWidgetEventHandler();this.unsubscribeFromWidgetEvents=(e=Object.values(at),t=n,e.forEach((function(e){return window.addEventListener(e,t)})),function(){e.forEach((function(e){return window.removeEventListener(e,t)}))})}this.defaultEventHandlerDisabled=a}}},{key:"render",value:function(){if(!("true"===this.getAttribute(Dt.hidden))){var e=this.getAttribute(Dt.locale);Ct(e);var t=this.getAttribute(Dt.paginationMode)||"",a=this.getAttribute(Dt.serviceUrl)||"";p.a.render(u.a.createElement(E.Provider,{value:this.keycloak},u.a.createElement(h.b,{jss:this.jss},u.a.createElement(v.a,{theme:this.muiTheme},u.a.createElement(C,{paginationMode:t},u.a.createElement(wt,{ref:this.reactRootRef,onAdd:this.onAdd,onDelete:this.onDelete,onSelect:this.onSelect,onError:this.onError,paginationMode:t,serviceUrl:a}))))),this.mountPoint)}}}],[{key:"observedAttributes",get:function(){return Object.values(Dt)}}]),a}(Object(o.a)(HTMLElement));customElements.define("alltywpsql-table",Ft)}},[[130,1,2]]]);
//# sourceMappingURL=main.ab6d6ed7.chunk.js.map