{"version":3,"sources":["auth/KeycloakContext.js","components/pagination/PaginationContext.js","components/__types__/keycloak.js","components/__types__/ref.js","auth/KeycloakViews.js","components/common/ConfirmationDialogTrigger.js","components/pagination/withPagination.js","components/pagination/TablePaginationActions.js","components/pagination/PaginationWrapper.js","components/__types__/alltywpsql.js","components/filters/utils.js","components/__types__/filter.js","components/filters/Filter.js","components/filters/FiltersContainer.js","components/AlltywpsqlTable.js","components/common/Notification.js","api/helpers.js","api/alltywpsqls.js","custom-elements/widgetEventTypes.js","state/filter.types.js","state/alltywpsql.types.js","state/alltywpsql.reducer.js","components/AlltywpsqlTableContainer.js","auth/withKeycloak.js","i18n/locales/index.js","i18n/i18next.js","i18n/setLocale.js","i18n/constants.js","helpers/widgetEvents.js","custom-elements/AlltywpsqlTableElement.js"],"names":["KeycloakContext","React","createContext","itemsPerPageOptions","initialState","currentPage","itemsPerPage","length","PaginationContext","pagination","PaginationProvider","props","initialItemsPerPage","paginationMode","state","onChangeItemsPerPage","bind","onChangeCurrentPage","value","target","parseInt","this","setState","newPage","children","Provider","Component","defaultProps","PropTypes","shape","initialized","bool","authenticated","oneOfType","func","current","elementType","AuthenticatedView","keycloak","UnauthenticatedView","ConfirmationDialogTrigger","open","handleOpen","discard","confirm","action","onCloseDialog","handleClose","DISCARD","CONFIRM","dialog","title","description","confirmLabel","discardLabel","Renderer","onClick","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","autoFocus","color","PureComponent","withPagination","WrappedComponent","WithPaginationComponent","renderWrappedComponent","context","forwardedRef","rest","ref","Consumer","forwardRef","withTranslation","withStyles","root","flexShrink","marginLeft","classes","count","page","rowsPerPage","onChangePage","t","className","IconButton","disabled","aria-label","Math","ceil","max","number","stringa","string","intero","lungo","flotto","doppio","grandecimale","datalocale","istante","zonadatatempo","booleano","enumeratore","items","dataLength","next","hasMore","loader","TablePagination","component","rowsPerPageOptions","SelectProps","native","onChangeRowsPerPage","ActionsComponent","TablePaginationActions","FILTER_TYPE_NO_VALUE_SPEC","field","operator","DEFAULT_FILTER_TYPES","STRING_FILTER_TYPES","DATE_NUMBER_FILTER_TYPES","STRING_FIELDS","DATE_FIELDS","NUMBER_FIELDS","getFilterQuery","filters","filter","f","reduce","acc","encodeURIComponent","join","formControl","minWidth","width","icon","withTheme","update","remove","filterId","filterOperators","includes","handleChange","event","name","Grid","container","item","xs","FormControl","InputLabel","Select","labelId","onChange","map","key","TextField","margin","FiltersContainer","applyFilter","clear","add","error","hasFilters","Paper","variant","button","data-testid","index","filterKey","errors","filt","flexGrow","padding","marginRight","paper","textAlign","height","AlltywpsqlTable","onSelect","i18n","Actions","tableRows","TableRow","hover","rowRoot","TableCell","Date","toLocaleDateString","language","toLocaleString","align","Checkbox","checked","Table","tableRoot","stickyHeader","TableHead","TableBody","noItems","marginTop","cursor","overflow","textOverflow","whiteSpace","statusIcon","success","CheckCircleIcon","ErrorIcon","info","InfoIcon","autoHideDurations","Notification","passedStatus","status","message","isOpen","INFO","Icon","autoHideDuration","messageTemplate","clsx","iconStatus","Snackbar","SnackbarContent","SUCCESS","ERROR","theme","display","alignItems","fontSize","opacity","spacing","backgroundColor","green","palette","dark","primary","main","getDefaultOptions","headers","Headers","Authorization","window","entando","token","getUrl","url","hasQuery","parameters","request","options","a","fetch","response","has","get","alltywpsqls","json","Promise","reject","Error","statusText","apiAlltywpsqlsDelete","serviceUrl","method","apiAlltywpsqlsGet","mode","filterQuery","paginationQuery","INPUT_EVENT_TYPES","formUpdate","formCreate","formDelete","OUTPUT_EVENT_TYPES","ADD_FILTER","UPDATE_FILTER","DELETE_FILTER","CLEAR_FILTERS","READ_ALL","ERROR_FETCH","CLEAR_ERRORS","CLEAR_ITEMS","CREATE","UPDATE","DELETE","notificationMessage","notificationStatus","loading","reducer","type","payload","values","i","findIndex","AlltywpsqlTableContainer","handleDelete","handleError","closeNotification","fetchData","updateFilter","addFilter","removeFilter","clearFilters","applyFilters","prevProps","changedAuth","changedPagination","afterSetState","prevState","requestParameters","alltywpsqlCount","dispatch","err","onError","onDelete","onAdd","deleteLabel","Fab","fab","tableWrapper","handleConfirmationDialogAction","withKeycloak","WithKeycloakComponent","float","overflowX","overflowY","undefined","withRef","en","it","resources","Object","keys","locales","lang","i18next","locale","defaultLocale","use","initReactI18next","init","defaultNs","interpolation","escapeValue","lng","fallbackLng","react","useSuspense","setI18nextLocale","createWidgetEventPublisher","eventType","eventId","widgetEvent","CustomEvent","detail","dispatchEvent","publishWidgetEvent","getKeycloakInstance","ATTRIBUTES","hidden","disableDefaultEventHandler","AlltywpsqlTableElement","reactRootRef","createRef","oldValue","newValue","onToggleDisableDefaultEvent","render","document","createElement","mountPoint","appendChild","eventHandler","shadowRoot","attachShadow","jss","create","jssPreset","insertionPoint","muiTheme","createMuiTheme","MuiDialog","unsubscribeFromKeycloakEvent","addEventListener","removeEventListener","retargetEvents","unsubscribeFromWidgetEvents","evt","meta","widgetEventToFSA","widgetEvents","disableEventHandler","getAttribute","defaultEventHandlerDisabled","defaultWidgetEventHandler","forEach","setLocale","ReactDOM","StylesProvider","ThemeProvider","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.ab6d6ed7.chunk.js","sourcesContent":["import React from 'react';\n\nconst KeycloakContext = React.createContext(null);\n\nexport default KeycloakContext;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const itemsPerPageOptions = [5, 10, 25];\n\nconst initialState = {\n  currentPage: 0,\n  itemsPerPage: itemsPerPageOptions[itemsPerPageOptions.length - 1],\n};\n\nexport const PaginationContext = React.createContext({ pagination: initialState });\n\nexport class PaginationProvider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const initialItemsPerPage =\n      props.paginationMode === 'pagination'\n        ? itemsPerPageOptions[0]\n        : itemsPerPageOptions[itemsPerPageOptions.length - 1];\n\n    this.state = {\n      pagination: {\n        ...initialState,\n        itemsPerPage: initialItemsPerPage,\n      },\n    };\n\n    this.onChangeItemsPerPage = this.onChangeItemsPerPage.bind(this);\n    this.onChangeCurrentPage = this.onChangeCurrentPage.bind(this);\n  }\n\n  onChangeItemsPerPage({ target: { value } }) {\n    const itemsPerPage = parseInt(value, 10);\n    const currentPage = 0;\n\n    this.setState((state) => ({\n      ...state,\n      pagination: { ...state.pagination, itemsPerPage, currentPage },\n    }));\n  }\n\n  onChangeCurrentPage(newPage) {\n    const currentPage = parseInt(newPage, 10);\n    this.setState((state) => ({\n      ...state,\n      pagination: { ...state.pagination, currentPage },\n    }));\n  }\n\n  render() {\n    const { pagination } = this.state;\n    const { children } = this.props;\n    return (\n      <PaginationContext.Provider\n        value={{\n          ...pagination,\n          onChangeCurrentPage: this.onChangeCurrentPage,\n          onChangeItemsPerPage: this.onChangeItemsPerPage,\n        }}\n      >\n        {children}\n      </PaginationContext.Provider>\n    );\n  }\n}\n\nPaginationProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  paginationMode: PropTypes.string,\n};\n\nPaginationProvider.defaultProps = {\n  paginationMode: '',\n};\n","import PropTypes from 'prop-types';\n\nconst keycloakType = PropTypes.shape({\n  initialized: PropTypes.bool,\n  authenticated: PropTypes.bool,\n});\n\nexport default keycloakType;\n","import PropTypes from 'prop-types';\n\nexport default PropTypes.oneOfType([\n  PropTypes.func,\n  PropTypes.shape({ current: PropTypes.elementType }),\n  PropTypes.shape(null),\n]);\n","export const AuthenticatedView = ({ children, keycloak }) => {\n  const authenticated = keycloak.initialized && keycloak.authenticated;\n  return authenticated ? children : null;\n};\n\nexport const UnauthenticatedView = ({ children, keycloak }) => {\n  const authenticated = keycloak.initialized && keycloak.authenticated;\n  return !authenticated ? children : null;\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default class ConfirmationDialogTrigger extends PureComponent {\n  static CONFIRM = 'CONFIRM';\n\n  static DISCARD = 'DISCARD';\n\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n    this.handleOpen = this.handleOpen.bind(this);\n    this.discard = this.discard.bind(this);\n    this.confirm = this.confirm.bind(this);\n  }\n\n  handleOpen() {\n    this.setState(() => ({\n      open: true,\n    }));\n  }\n\n  handleClose(action) {\n    const { onCloseDialog } = this.props;\n    this.setState(() => ({\n      open: false,\n    }));\n    onCloseDialog(action);\n  }\n\n  discard() {\n    this.handleClose(ConfirmationDialogTrigger.DISCARD);\n  }\n\n  confirm() {\n    this.handleClose(ConfirmationDialogTrigger.CONFIRM);\n  }\n\n  render() {\n    const { open } = this.state;\n    const {\n      dialog: { title, description, confirmLabel, discardLabel },\n      Renderer,\n    } = this.props;\n    return (\n      <div>\n        <Renderer onClick={this.handleOpen} />\n        <Dialog\n          open={open}\n          onClose={this.handleClose}\n          aria-labelledby=\"confirmation-dialog-title\"\n          aria-describedby=\"confirmation-dialog-description\"\n        >\n          <DialogTitle id=\"confirmation-dialog-title\">{title}</DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"confirmation-dialog-description\">\n              {description}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.discard} autoFocus>\n              {discardLabel}\n            </Button>\n            <Button onClick={this.confirm} color=\"primary\">\n              {confirmLabel}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nConfirmationDialogTrigger.propTypes = {\n  dialog: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    confirmLabel: PropTypes.string.isRequired,\n    discardLabel: PropTypes.string.isRequired,\n  }).isRequired,\n  onCloseDialog: PropTypes.func.isRequired,\n  Renderer: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { forwardRef, Component } from 'react';\nimport refType from 'components/__types__/ref';\nimport { PaginationContext } from 'components/pagination/PaginationContext';\n\nexport default function withPagination(WrappedComponent) {\n  class WithPaginationComponent extends Component {\n    renderWrappedComponent = (context) => {\n      const { forwardedRef, ...rest } = this.props;\n      return <WrappedComponent {...rest} ref={forwardedRef} pagination={context} />;\n    };\n\n    render() {\n      return <PaginationContext.Consumer>{this.renderWrappedComponent}</PaginationContext.Consumer>;\n    }\n  }\n\n  WithPaginationComponent.propTypes = {\n    forwardedRef: refType,\n  };\n\n  WithPaginationComponent.defaultProps = {\n    forwardedRef: null,\n  };\n\n  return forwardRef((props, ref) => <WithPaginationComponent {...props} forwardedRef={ref} />);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\nconst styles = {\n  root: {\n    flexShrink: 0,\n    marginLeft: '5px',\n  },\n};\n\nconst TablePaginationActions = ({ classes, count, page, rowsPerPage, onChangePage, t }) => {\n  const handleFirstPageButtonClick = () => {\n    onChangePage(0);\n  };\n\n  const handleBackButtonClick = () => {\n    onChangePage(page - 1);\n  };\n\n  const handleNextButtonClick = () => {\n    onChangePage(page + 1);\n  };\n\n  const handleLastPageButtonClick = () => {\n    onChangePage(Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label={t('pagination.ariaLabels.firstPage')}\n      >\n        <FirstPageIcon />\n      </IconButton>\n      <IconButton\n        onClick={handleBackButtonClick}\n        disabled={page === 0}\n        aria-label={t('pagination.ariaLabels.previousPage')}\n      >\n        <KeyboardArrowLeft />\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label={t('pagination.ariaLabels.nextPage')}\n      >\n        <KeyboardArrowRight />\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label={t('pagination.ariaLabels.lastPage')}\n      >\n        <LastPageIcon />\n      </IconButton>\n    </div>\n  );\n};\n\nTablePaginationActions.propTypes = {\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n  count: PropTypes.number.isRequired,\n  classes: PropTypes.shape({\n    root: PropTypes.string,\n  }).isRequired,\n  t: PropTypes.func.isRequired,\n};\n\nexport default withTranslation()(withStyles(styles)(TablePaginationActions));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { withTranslation } from 'react-i18next';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nimport { itemsPerPageOptions } from 'components/pagination/PaginationContext';\nimport withPagination from 'components/pagination/withPagination';\nimport TablePaginationActions from 'components/pagination/TablePaginationActions';\n\nimport alltywpsqlType from 'components/__types__/alltywpsql';\n\nconst PaginationWrapper = ({ children, pagination, paginationMode, items, count, t }) => {\n  if (paginationMode === 'infinite-scroll') {\n    return (\n      <InfiniteScroll\n        dataLength={items.length}\n        next={() => pagination.onChangeCurrentPage(pagination.currentPage + 1)}\n        hasMore={items.length < count}\n        loader={<div>{t('common.loadingMore')}</div>}\n      >\n        {children}\n      </InfiniteScroll>\n    );\n  }\n  if (paginationMode === 'pagination') {\n    return (\n      <>\n        {children}\n        {count > 0 && (\n          <TablePagination\n            component=\"div\"\n            rowsPerPageOptions={itemsPerPageOptions}\n            count={count}\n            rowsPerPage={pagination.itemsPerPage}\n            page={pagination.currentPage}\n            SelectProps={{\n              native: true,\n            }}\n            onChangePage={pagination.onChangeCurrentPage}\n            onChangeRowsPerPage={pagination.onChangeItemsPerPage}\n            ActionsComponent={TablePaginationActions}\n          />\n        )}\n      </>\n    );\n  }\n  return children;\n};\n\nPaginationWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  pagination: PropTypes.shape({\n    itemsPerPage: PropTypes.number,\n    currentPage: PropTypes.number,\n    onChangeItemsPerPage: PropTypes.func.isRequired,\n    onChangeCurrentPage: PropTypes.func.isRequired,\n  }).isRequired,\n  paginationMode: PropTypes.string.isRequired,\n  items: PropTypes.arrayOf(alltywpsqlType).isRequired,\n  count: PropTypes.number.isRequired,\n  t: PropTypes.func.isRequired,\n};\n\nexport default withTranslation()(withPagination(PaginationWrapper));\n","import PropTypes from 'prop-types';\n\nconst alltywpsqlType = PropTypes.shape({\n  id: PropTypes.number,\n  stringa: PropTypes.string,\n  intero: PropTypes.number,\n  lungo: PropTypes.number,\n  flotto: PropTypes.number,\n  doppio: PropTypes.number,\n  grandecimale: PropTypes.number,\n  datalocale: PropTypes.string,\n  istante: PropTypes.string,\n  zonadatatempo: PropTypes.string,\n  booleano: PropTypes.bool,\n  enumeratore: PropTypes.string,\n});\n\nexport default alltywpsqlType;\n","export const FILTER_TYPE_NO_VALUE_SPEC = ['specified', 'unspecified'];\n\nconst DEFAULT_FILTER_TYPES = ['equals', 'in', ...FILTER_TYPE_NO_VALUE_SPEC];\nconst STRING_FILTER_TYPES = ['contains'];\nconst DATE_NUMBER_FILTER_TYPES = [\n  { value: 'greaterThan', title: '>' },\n  { value: 'lessThan', title: '<' },\n  { value: 'greaterOrEqualThan', title: '>=' },\n  { value: 'lessOrEqualThan', title: '<=' },\n];\n\nconst STRING_FIELDS = ['stringa', 'enumeratore'];\nconst DATE_FIELDS = ['datalocale', 'istante', 'zonadatatempo'];\nconst NUMBER_FIELDS = ['id', 'intero', 'lungo', 'flotto', 'doppio', 'grandecimale'];\n\nexport const getFieldFilterTypes = (field) => {\n  return [\n    ...DEFAULT_FILTER_TYPES,\n    ...(STRING_FIELDS.includes(field) ? STRING_FILTER_TYPES : []),\n    ...(DATE_FIELDS.includes(field) ? DATE_NUMBER_FILTER_TYPES : []),\n    ...(NUMBER_FIELDS.includes(field) ? DATE_NUMBER_FILTER_TYPES : []),\n  ];\n};\n\nexport const getFilterQuery = (filters = []) => {\n  if (filters.length) {\n    return filters\n      .filter((f) => f.field && f.operator)\n      .reduce((acc, f) => {\n        switch (f.operator) {\n          case 'specified':\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=true`];\n          case 'unspecified':\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=false`];\n          default:\n        }\n        return [\n          ...acc,\n          `${encodeURIComponent(`${f.field}.${f.operator}`)}=${encodeURIComponent(f.value)}`,\n        ];\n      }, [])\n      .join('&');\n  }\n  return '';\n};\n","import PropTypes from 'prop-types';\n\nconst filterType = PropTypes.shape({\n  field: PropTypes.string,\n  operator: PropTypes.string,\n  value: PropTypes.string,\n});\n\nexport default filterType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\nimport Select from '@material-ui/core/Select';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteForever from '@material-ui/icons/DeleteForever';\n\nimport filterType from 'components/__types__/filter';\nimport { getFieldFilterTypes, FILTER_TYPE_NO_VALUE_SPEC } from 'components/filters/utils';\n\nconst styles = () => ({\n  formControl: {\n    minWidth: 120,\n    width: '90%',\n  },\n  icon: {\n    color: 'rgba(0, 0, 0, 0.54)',\n  },\n});\n\nconst Filter = ({ filter, t, update, remove, filterId, classes }) => {\n  const filterOperators = getFieldFilterTypes(filter.field);\n\n  const handleChange = (event) => {\n    update(filterId, { [event.target.name]: event.target.value });\n  };\n\n  const handleRemoveClick = () => {\n    remove(filterId);\n  };\n\n  return (\n    <Grid container>\n      <Grid item xs={5}>\n        <FormControl className={classes.formControl}>\n          <InputLabel id={`${filterId}-field-label`}>{t('filters.field')}</InputLabel>\n          <Select\n            native\n            labelId={`${filterId}-field-label`}\n            id={`${filterId}-field`}\n            name=\"field\"\n            value={filter.field}\n            onChange={handleChange}\n          >\n            <option value=\"\" />\n            <option value=\"id\">{t('entities.alltywpsql.id')}</option>\n            <option value=\"stringa\">{t('entities.alltywpsql.stringa')}</option>\n            <option value=\"intero\">{t('entities.alltywpsql.intero')}</option>\n            <option value=\"lungo\">{t('entities.alltywpsql.lungo')}</option>\n            <option value=\"flotto\">{t('entities.alltywpsql.flotto')}</option>\n            <option value=\"doppio\">{t('entities.alltywpsql.doppio')}</option>\n            <option value=\"grandecimale\">{t('entities.alltywpsql.grandecimale')}</option>\n            <option value=\"datalocale\">{t('entities.alltywpsql.datalocale')}</option>\n            <option value=\"istante\">{t('entities.alltywpsql.istante')}</option>\n            <option value=\"zonadatatempo\">{t('entities.alltywpsql.zonadatatempo')}</option>\n            <option value=\"booleano\">{t('entities.alltywpsql.booleano')}</option>\n            <option value=\"enumeratore\">{t('entities.alltywpsql.enumeratore')}</option>\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={3}>\n        {!!filter.field && (\n          <FormControl className={classes.formControl}>\n            <InputLabel id={`${filterId}-operator-label`}>{t('filters.operator')}</InputLabel>\n            <Select\n              native\n              labelId={`${filterId}-operator-label`}\n              id={`${filterId}-operator`}\n              name=\"operator\"\n              value={filter.operator}\n              onChange={handleChange}\n            >\n              <option value=\"\" />\n              {filterOperators.map((operator) => {\n                if (typeof operator !== 'string') {\n                  return (\n                    <option key={operator.value} value={operator.value}>\n                      {operator.title}\n                    </option>\n                  );\n                }\n                return (\n                  <option key={operator} value={operator}>\n                    {t(`filters.operators.${operator}`)}\n                  </option>\n                );\n              })}\n            </Select>\n          </FormControl>\n        )}\n      </Grid>\n      <Grid item xs={3}>\n        {!!filter.operator && !FILTER_TYPE_NO_VALUE_SPEC.includes(filter.operator) && (\n          <FormControl className={classes.formControl}>\n            <TextField\n              disabled={!filter.field}\n              id=\"standard-required\"\n              name=\"value\"\n              value={filter.value}\n              onChange={handleChange}\n              margin=\"normal\"\n            />\n          </FormControl>\n        )}\n      </Grid>\n      <Grid item xs={1}>\n        <IconButton aria-label=\"Remove filter\" className={classes.icon} onClick={handleRemoveClick}>\n          <DeleteForever />\n        </IconButton>\n      </Grid>\n    </Grid>\n  );\n};\n\nFilter.propTypes = {\n  classes: PropTypes.shape({\n    formControl: PropTypes.string,\n    icon: PropTypes.string,\n  }).isRequired,\n  t: PropTypes.func.isRequired,\n  update: PropTypes.func.isRequired,\n  remove: PropTypes.func.isRequired,\n  filter: filterType.isRequired,\n  filterId: PropTypes.number.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(withTranslation()(Filter));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Filter from 'components/filters/Filter';\nimport filterType from 'components/__types__/filter';\nimport { FILTER_TYPE_NO_VALUE_SPEC } from 'components/filters/utils';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n    padding: '5px',\n    marginRight: '65px',\n  },\n  paper: {\n    padding: '5px',\n    textAlign: 'center',\n    height: '30px',\n  },\n  icon: {\n    padding: '5px',\n    color: '#555555',\n    '&:hover': {\n      color: '#000000',\n    },\n  },\n  button: {\n    margin: '5px',\n  },\n};\n\nconst FiltersContainer = (props) => {\n  const { classes, filters, applyFilter, update, remove, clear, add, t, error } = props;\n\n  const hasFilters = filters.length > 0;\n\n  const handleApplyFilter = () => {\n    const errors =\n      hasFilters &&\n      filters\n        .map((filt) => {\n          if (filt.field && filt.operator && !FILTER_TYPE_NO_VALUE_SPEC.includes(filt.operator)) {\n            return filt.value ? '' : 'missing filter parameters';\n          }\n          return '';\n        })\n        .filter((f) => !!f);\n    if (errors && errors.length > 0) {\n      error(errors[0]);\n    } else {\n      applyFilter();\n    }\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Button\n        variant=\"contained\"\n        className={classes.button}\n        onClick={add}\n        data-testid=\"button-add-filter\"\n      >\n        {t('filters.addFilter')}\n      </Button>\n      {hasFilters && (\n        <Button className={classes.button} onClick={clear}>\n          {t('filters.clearFilters')}\n        </Button>\n      )}\n      {filters.map((filter, index) => {\n        const filterKey = `${filter.field}${filter.operator}${index}`;\n        return (\n          <Filter\n            key={filterKey}\n            update={update}\n            remove={remove}\n            filterId={index}\n            filter={filter}\n          />\n        );\n      })}\n      {hasFilters && (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.button}\n          onClick={handleApplyFilter}\n        >\n          {t('filters.filter')}\n        </Button>\n      )}\n    </Paper>\n  );\n};\n\nFiltersContainer.propTypes = {\n  classes: PropTypes.shape().isRequired,\n  t: PropTypes.func.isRequired,\n  filters: PropTypes.arrayOf(filterType).isRequired,\n  applyFilter: PropTypes.func,\n  add: PropTypes.func,\n  update: PropTypes.func,\n  remove: PropTypes.func,\n  clear: PropTypes.func,\n  error: PropTypes.func,\n};\n\nFiltersContainer.defaultProps = {\n  applyFilter: () => {},\n  add: () => {},\n  update: () => {},\n  remove: () => {},\n  clear: () => {},\n  error: () => {},\n};\n\nexport default withStyles(styles)(withTranslation()(FiltersContainer));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport alltywpsqlType from 'components/__types__/alltywpsql';\n\nconst styles = {\n  tableRoot: {\n    marginTop: '10px',\n  },\n  rowRoot: {\n    cursor: 'pointer',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n  },\n  noItems: {\n    margin: '15px',\n  },\n};\n\nconst AlltywpsqlTable = ({ items, onSelect, classes, t, i18n, Actions }) => {\n  const tableRows = items.map((item) => (\n    <TableRow hover className={classes.rowRoot} key={item.id} onClick={() => onSelect(item)}>\n      <TableCell>\n        <span>{item.id}</span>\n      </TableCell>\n      <TableCell>\n        <span>{item.stringa}</span>\n      </TableCell>\n      <TableCell>\n        <span>{item.intero}</span>\n      </TableCell>\n      <TableCell>\n        <span>{item.lungo}</span>\n      </TableCell>\n      <TableCell>\n        <span>{item.flotto}</span>\n      </TableCell>\n      <TableCell>\n        <span>{item.doppio}</span>\n      </TableCell>\n      <TableCell>\n        <span>{item.grandecimale}</span>\n      </TableCell>\n      <TableCell>\n        <span>{new Date(item.datalocale).toLocaleDateString(i18n.language)}</span>\n      </TableCell>\n      <TableCell>\n        <span>{new Date(item.istante).toLocaleString(i18n.language)}</span>\n      </TableCell>\n      <TableCell>\n        <span>{new Date(item.zonadatatempo).toLocaleString(i18n.language)}</span>\n      </TableCell>\n      <TableCell align=\"center\">\n        <Checkbox disabled checked={item.booleano} />\n      </TableCell>\n      <TableCell>\n        <span>{item.enumeratore}</span>\n      </TableCell>\n      {Actions && (\n        <TableCell>\n          <Actions item={item} />\n        </TableCell>\n      )}\n    </TableRow>\n  ));\n\n  return items.length ? (\n    <Table className={classes.tableRoot} stickyHeader>\n      <TableHead>\n        <TableRow>\n          <TableCell>\n            <span>{t('entities.alltywpsql.id')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.stringa')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.intero')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.lungo')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.flotto')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.doppio')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.grandecimale')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.datalocale')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.istante')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.zonadatatempo')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.booleano')}</span>\n          </TableCell>\n          <TableCell>\n            <span>{t('entities.alltywpsql.enumeratore')}</span>\n          </TableCell>\n          {Actions && <TableCell />}\n        </TableRow>\n      </TableHead>\n      <TableBody>{tableRows}</TableBody>\n    </Table>\n  ) : (\n    <div className={classes.noItems}>{t('entities.alltywpsql.noItems')}</div>\n  );\n};\n\nAlltywpsqlTable.propTypes = {\n  items: PropTypes.arrayOf(alltywpsqlType).isRequired,\n  onSelect: PropTypes.func,\n  classes: PropTypes.shape({\n    rowRoot: PropTypes.string,\n    tableRoot: PropTypes.string,\n    noItems: PropTypes.string,\n  }).isRequired,\n  t: PropTypes.func.isRequired,\n  i18n: PropTypes.shape({ language: PropTypes.string }).isRequired,\n  Actions: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nAlltywpsqlTable.defaultProps = {\n  onSelect: () => {},\n  Actions: null,\n};\n\nexport default withStyles(styles)(withTranslation()(AlltywpsqlTable));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Snackbar, SnackbarContent } from '@material-ui/core';\nimport { green } from '@material-ui/core/colors';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = (theme) => ({\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconStatus: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main,\n  },\n});\n\nconst statusIcon = {\n  success: CheckCircleIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst autoHideDurations = {\n  success: 3000,\n  error: null,\n  info: 5000,\n};\n\nconst Notification = ({ className, classes, status: passedStatus, message, onClose }) => {\n  const isOpen = !!message;\n\n  const status = passedStatus || Notification.INFO;\n  const Icon = statusIcon[status];\n  const autoHideDuration = autoHideDurations[status];\n\n  const messageTemplate = (\n    <span className={classes.message}>\n      <Icon className={clsx(classes.icon, classes.iconStatus)} />\n      {message}\n    </span>\n  );\n\n  return (\n    <Snackbar open={isOpen} onClose={onClose} autoHideDuration={autoHideDuration}>\n      <SnackbarContent\n        className={clsx(classes[status], className)}\n        message={messageTemplate}\n        action={[\n          <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n      />\n    </Snackbar>\n  );\n};\n\nNotification.SUCCESS = 'success';\nNotification.ERROR = 'error';\nNotification.INFO = 'info';\n\nNotification.propTypes = {\n  classes: PropTypes.shape({\n    message: PropTypes.string.isRequired,\n    icon: PropTypes.string.isRequired,\n    iconStatus: PropTypes.string.isRequired,\n    error: PropTypes.string.isRequired,\n  }).isRequired,\n  className: PropTypes.string,\n  status: PropTypes.oneOf([Notification.SUCCESS, Notification.ERROR, Notification.INFO]),\n  message: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nNotification.defaultProps = {\n  message: null,\n  status: null,\n  className: '',\n  onClose: () => {},\n};\n\nexport default withStyles(styles, { withTheme: true })(Notification);\n","export const getKeycloakToken = () => {\n  if (\n    window &&\n    window.entando &&\n    window.entando.keycloak &&\n    window.entando.keycloak.authenticated\n  ) {\n    return window.entando.keycloak.token;\n  }\n  return '';\n};\n\nexport const getDefaultOptions = () => ({\n  headers: new Headers({\n    Authorization: `Bearer ${getKeycloakToken()}`,\n    'Content-Type': 'application/json',\n  }),\n});\n\nexport const getUrl = (url, filters = '', pagination = '') => {\n  const hasQuery = !!(filters || pagination);\n  const parameters = `${filters}${filters ? '&' : ''}${pagination}`;\n  return `${url}${hasQuery ? `?${parameters}` : ''}`;\n};\n\nexport const request = async (url, options) => {\n  const response = await fetch(url, options);\n\n  const headers = {\n    ...(response.headers.has('X-Total-Count')\n      ? { 'X-Total-Count': parseInt(response.headers.get('X-Total-Count'), 10) }\n      : {}),\n  };\n\n  if (response.status === 204) {\n    return { alltywpsqls: '' };\n  }\n\n  return response.status >= 200 && response.status < 300\n    ? { alltywpsqls: await response.json(), headers }\n    : Promise.reject(new Error(response.statusText || response.status));\n};\n","import { getFilterQuery } from 'components/filters/utils';\nimport { getDefaultOptions, request, getUrl } from 'api/helpers';\n\nconst resource = 'api/alltywpsqls';\n\nexport const apiAlltywpsqlsDelete = async (serviceUrl, id) => {\n  const url = `${serviceUrl}/${resource}/${id}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'DELETE',\n  };\n  return request(url, options);\n};\n\nexport const apiAlltywpsqlsGet = async (serviceUrl, { filters = [], pagination, mode }) => {\n  const filterQuery = getFilterQuery(filters);\n  const paginationQuery = pagination\n    ? `page=${pagination.page}&size=${pagination.rowsPerPage}`\n    : '';\n  const url = getUrl(\n    `${serviceUrl}/${resource}${mode === 'count' ? '/count' : ''}`,\n    filterQuery,\n    paginationQuery\n  );\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n\n  return request(url, options);\n};\n","export const INPUT_EVENT_TYPES = {\n  formUpdate: 'alltywpsql.form.update',\n  formCreate: 'alltywpsql.form.create',\n  formDelete: 'alltywpsql.form.delete',\n};\n\nexport const OUTPUT_EVENT_TYPES = {\n  select: 'alltywpsql.table.select',\n  add: 'alltywpsql.table.add',\n  error: 'alltywpsql.table.error',\n  delete: 'alltywpsql.table.delete',\n};\n\nexport const KEYCLOAK_EVENT_TYPE = 'keycloak';\n","export const ADD_FILTER = 'alltywpsql-filter/addFilter';\nexport const UPDATE_FILTER = 'alltywpsql-filter/updateFilter';\nexport const DELETE_FILTER = 'alltywpsql-filter/deleteFilter';\nexport const CLEAR_FILTERS = 'alltywpsql-filter/clearFilters';\n","export const READ_ALL = 'alltywpsql-table/readAll';\nexport const ERROR_FETCH = 'alltywpsql-table/error';\nexport const CLEAR_ERRORS = 'alltywpsql-table/clearErrors';\nexport const CLEAR_ITEMS = 'alltywpsql-table/clearItems';\nexport const CREATE = 'alltywpsql-table/create';\nexport const UPDATE = 'alltywpsql-table/update';\nexport const DELETE = 'alltywpsql-table/delete';\n","import { INPUT_EVENT_TYPES } from 'custom-elements/widgetEventTypes';\nimport { ADD_FILTER, UPDATE_FILTER, DELETE_FILTER, CLEAR_FILTERS } from 'state/filter.types';\nimport {\n  READ_ALL,\n  ERROR_FETCH,\n  CLEAR_ERRORS,\n  CLEAR_ITEMS,\n  CREATE,\n  UPDATE,\n  DELETE,\n} from 'state/alltywpsql.types';\n\nexport const initialState = {\n  filters: [],\n  items: [],\n  count: 0,\n  notificationMessage: null,\n  notificationStatus: null,\n  loading: false,\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_FILTER:\n      return {\n        ...state,\n        filters: [...state.filters, { field: '', operator: '', value: '' }],\n      };\n    case UPDATE_FILTER:\n      return {\n        ...state,\n        filters: state.filters.map((filter, index) =>\n          index === action.payload.filterId ? { ...filter, ...action.payload.values } : filter\n        ),\n      };\n    case DELETE_FILTER:\n      return {\n        ...state,\n        items: initialState.items,\n        count: initialState.count,\n        filters: state.filters.filter((f, index) => index !== action.payload.filterId),\n      };\n    case CLEAR_FILTERS:\n      return {\n        ...state,\n        items: initialState.items,\n        count: initialState.count,\n        filters: initialState.filters,\n      };\n    case CLEAR_ITEMS:\n      return {\n        ...state,\n        items: initialState.items,\n        count: initialState.count,\n      };\n    case READ_ALL:\n      return {\n        ...state,\n        items: action.payload.items,\n        count: action.payload.count,\n      };\n    case ERROR_FETCH:\n      return {\n        ...state,\n        notificationMessage: action.payload.message,\n        notificationStatus: action.payload.status,\n      };\n    case CLEAR_ERRORS:\n      return {\n        ...state,\n        notificationMessage: null,\n      };\n    case CREATE:\n    case INPUT_EVENT_TYPES.formCreate:\n      return { ...state, items: [...state.items, action.payload] };\n    case UPDATE:\n    case INPUT_EVENT_TYPES.formUpdate: {\n      const i = state.items.findIndex((item) => {\n        return item.id === action.payload.id;\n      });\n      const items = [...state.items];\n      items[i] = action.payload;\n      return { ...state, items };\n    }\n    case DELETE:\n    case INPUT_EVENT_TYPES.formDelete:\n      return { ...state, items: state.items.filter((item) => item.id !== action.payload.id) };\n    default:\n      return state;\n  }\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\n\nimport { Fab } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteForever from '@material-ui/icons/DeleteForever';\nimport { withStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport keycloakType from 'components/__types__/keycloak';\nimport withKeycloak from 'auth/withKeycloak';\nimport { AuthenticatedView, UnauthenticatedView } from 'auth/KeycloakViews';\nimport ConfirmationDialogTrigger from 'components/common/ConfirmationDialogTrigger';\nimport PaginationWrapper from 'components/pagination/PaginationWrapper';\nimport withPagination from 'components/pagination/withPagination';\nimport FiltersContainer from 'components/filters/FiltersContainer';\nimport AlltywpsqlTable from 'components/AlltywpsqlTable';\nimport Notification from 'components/common/Notification';\nimport { apiAlltywpsqlsGet, apiAlltywpsqlsDelete } from 'api/alltywpsqls';\nimport { reducer, initialState } from 'state/alltywpsql.reducer';\nimport { ADD_FILTER, UPDATE_FILTER, DELETE_FILTER, CLEAR_FILTERS } from 'state/filter.types';\nimport { DELETE, ERROR_FETCH, CLEAR_ERRORS, READ_ALL, CLEAR_ITEMS } from 'state/alltywpsql.types';\n\nconst styles = {\n  fab: {\n    float: 'right',\n  },\n  tableWrapper: {\n    width: '100%',\n    overflowX: 'auto',\n    overflowY: 'hidden',\n  },\n};\n\nclass AlltywpsqlTableContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.closeNotification = this.closeNotification.bind(this);\n    this.fetchData = this.fetchData.bind(this);\n    this.updateFilter = this.updateFilter.bind(this);\n    this.addFilter = this.addFilter.bind(this);\n    this.removeFilter = this.removeFilter.bind(this);\n    this.clearFilters = this.clearFilters.bind(this);\n    this.applyFilters = this.applyFilters.bind(this);\n  }\n\n  componentDidMount() {\n    const { keycloak } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n\n    if (authenticated) {\n      this.fetchData();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { keycloak, paginationMode, pagination } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n\n    const changedAuth = prevProps.keycloak.authenticated !== authenticated;\n    const changedPagination =\n      ['pagination', 'infinite-scroll'].includes(paginationMode) &&\n      (prevProps.pagination.currentPage !== pagination.currentPage ||\n        prevProps.pagination.itemsPerPage !== pagination.itemsPerPage);\n\n    if (authenticated && (changedAuth || changedPagination)) {\n      this.fetchData();\n    }\n  }\n\n  dispatch(action, afterSetState = () => {}) {\n    this.setState((prevState) => reducer(prevState, action), afterSetState);\n  }\n\n  async fetchData() {\n    const { filters, items } = this.state;\n    const { keycloak, paginationMode, pagination, serviceUrl } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n\n    if (authenticated) {\n      try {\n        const requestParameters = {\n          filters,\n          ...(paginationMode === ''\n            ? {}\n            : {\n                pagination: {\n                  page: pagination.currentPage,\n                  rowsPerPage: pagination.itemsPerPage,\n                },\n              }),\n        };\n\n        const { alltywpsqls, headers } = await apiAlltywpsqlsGet(serviceUrl, requestParameters);\n        const alltywpsqlCount = (headers && headers['X-Total-Count']) || 0;\n\n        this.dispatch({\n          type: READ_ALL,\n          payload: {\n            items: paginationMode === 'infinite-scroll' ? [...items, ...alltywpsqls] : alltywpsqls,\n            count: alltywpsqlCount,\n          },\n        });\n      } catch (err) {\n        this.handleError(err);\n      }\n    }\n  }\n\n  updateFilter(filterId, values) {\n    this.dispatch({ type: UPDATE_FILTER, payload: { values, filterId } });\n  }\n\n  addFilter() {\n    this.dispatch({ type: ADD_FILTER });\n  }\n\n  removeFilter(filterId) {\n    this.dispatch({ type: DELETE_FILTER, payload: { filterId } }, this.fetchData);\n  }\n\n  clearFilters() {\n    this.dispatch({ type: CLEAR_FILTERS }, this.fetchData);\n  }\n\n  applyFilters() {\n    this.dispatch({ type: CLEAR_ITEMS }, this.fetchData);\n  }\n\n  closeNotification() {\n    this.dispatch({ type: CLEAR_ERRORS });\n  }\n\n  handleError(err) {\n    const { onError, t } = this.props;\n    onError(err);\n    this.dispatch({\n      type: ERROR_FETCH,\n      payload: {\n        message: t('error.dataLoading'),\n        status: Notification.ERROR,\n      },\n    });\n  }\n\n  async handleDelete(item) {\n    const { t, onDelete, keycloak, serviceUrl } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n\n    if (authenticated) {\n      try {\n        await apiAlltywpsqlsDelete(serviceUrl, item.id);\n        onDelete(item);\n        this.dispatch({ type: DELETE, payload: { id: item.id } });\n        this.setState({\n          notificationMessage: t('common.dataDeleted'),\n          notificationStatus: Notification.SUCCESS,\n        });\n      } catch (err) {\n        this.handleError(err);\n      }\n    }\n  }\n\n  handleConfirmationDialogAction(action, item) {\n    switch (action) {\n      case ConfirmationDialogTrigger.CONFIRM: {\n        this.handleDelete(item);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { items, count, notificationMessage, notificationStatus, filters } = this.state;\n    const { classes, onSelect, onAdd, onDelete, t, keycloak, paginationMode = '' } = this.props;\n    const deleteLabel = t('common.delete');\n\n    const Actions = ({ item }) =>\n      onDelete ? (\n        <ConfirmationDialogTrigger\n          onCloseDialog={(action) => this.handleConfirmationDialogAction(action, item)}\n          dialog={{\n            title: t('entities.alltywpsql.deleteDialog.title'),\n            description: t('entities.alltywpsql.deleteDialog.description'),\n            confirmLabel: t('common.yes'),\n            discardLabel: t('common.no'),\n          }}\n          Renderer={({ onClick }) => (\n            <IconButton aria-label={deleteLabel} title={deleteLabel} onClick={onClick}>\n              <DeleteForever />\n            </IconButton>\n          )}\n        />\n      ) : (\n        ''\n      );\n\n    return (\n      <>\n        <UnauthenticatedView keycloak={keycloak}>\n          {t('common.notAuthenticated')}\n        </UnauthenticatedView>\n        <AuthenticatedView keycloak={keycloak}>\n          <Fab color=\"primary\" aria-label=\"add\" className={classes.fab} onClick={onAdd}>\n            <AddIcon />\n          </Fab>\n          <FiltersContainer\n            applyFilter={this.applyFilters}\n            add={this.addFilter}\n            update={this.updateFilter}\n            remove={this.removeFilter}\n            clear={this.clearFilters}\n            filters={filters}\n            error={this.handleError}\n          />\n          <PaginationWrapper items={items} paginationMode={paginationMode} count={count}>\n            <div className={classes.tableWrapper}>\n              <AlltywpsqlTable items={items} onSelect={onSelect} Actions={Actions} />\n            </div>\n          </PaginationWrapper>\n        </AuthenticatedView>\n        <Notification\n          status={notificationStatus}\n          message={notificationMessage}\n          onClose={this.closeNotification}\n        />\n      </>\n    );\n  }\n}\n\nAlltywpsqlTableContainer.propTypes = {\n  classes: PropTypes.shape({\n    fab: PropTypes.string,\n    tableWrapper: PropTypes.string,\n  }).isRequired,\n  onAdd: PropTypes.func,\n  onError: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDelete: PropTypes.func,\n  t: PropTypes.func.isRequired,\n  keycloak: keycloakType.isRequired,\n  paginationMode: PropTypes.string,\n  pagination: PropTypes.shape({\n    currentPage: PropTypes.number,\n    itemsPerPage: PropTypes.number,\n  }),\n  serviceUrl: PropTypes.string,\n};\n\nAlltywpsqlTableContainer.defaultProps = {\n  onAdd: () => {},\n  onDelete: () => {},\n  onError: () => {},\n  onSelect: () => {},\n  paginationMode: '',\n  pagination: null,\n  serviceUrl: '',\n};\n\nexport default withKeycloak(\n  withStyles(styles)(\n    withTranslation(undefined, { withRef: true })(withPagination(AlltywpsqlTableContainer))\n  )\n);\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { forwardRef, Component } from 'react';\nimport refType from 'components/__types__/ref';\nimport KeycloakContext from 'auth/KeycloakContext';\n\nexport default function withKeycloak(WrappedComponent) {\n  class WithKeycloakComponent extends Component {\n    renderWrappedComponent = (value) => {\n      const { forwardedRef, ...rest } = this.props;\n      return <WrappedComponent {...rest} ref={forwardedRef} keycloak={value} />;\n    };\n\n    render() {\n      return <KeycloakContext.Consumer>{this.renderWrappedComponent}</KeycloakContext.Consumer>;\n    }\n  }\n\n  WithKeycloakComponent.propTypes = {\n    forwardedRef: refType,\n  };\n\n  WithKeycloakComponent.defaultProps = {\n    forwardedRef: () => {},\n  };\n\n  return forwardRef((props, ref) => <WithKeycloakComponent {...props} forwardedRef={ref} />);\n}\n","import en from 'i18n/locales/en.json';\nimport it from 'i18n/locales/it.json';\n\nexport default {\n  en,\n  it,\n};\n","import i18next from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport locales from 'i18n/locales';\n\nconst defaultNs = 'translation';\n\n// adds the default namespace ('translation') to resources object per i18next documentation\nconst resources = Object.keys(locales).reduce(\n  (acc, lang) => ({ ...acc, [lang]: { [defaultNs]: locales[lang] } }),\n  {}\n);\n\nexport const translateFn = i18next.t;\n\nexport const setI18nextLocale = (locale, defaultLocale) => {\n  i18next.use(initReactI18next).init({\n    defaultNs,\n    interpolation: {\n      escapeValue: false,\n    },\n    resources,\n    lng: locale || defaultLocale,\n    fallbackLng: defaultLocale,\n    react: { useSuspense: false },\n  });\n};\n","import { DEFAULT_LOCALE } from 'i18n/constants';\nimport { setI18nextLocale } from 'i18n/i18next';\n\nexport default (locale) => {\n  setI18nextLocale(locale, DEFAULT_LOCALE);\n};\n","/* eslint-disable-next-line import/prefer-default-export */\nexport const DEFAULT_LOCALE = 'en';\n","export const publishWidgetEvent = (eventId, payload) => {\n  const widgetEvent = new CustomEvent(eventId, {\n    detail: {\n      payload,\n    },\n  });\n  window.dispatchEvent(widgetEvent);\n};\n\nexport const createWidgetEventPublisher = (eventType) => (payload) =>\n  publishWidgetEvent(eventType, payload);\n\nexport const subscribeToWidgetEvent = (eventType, eventHandler) => {\n  window.addEventListener(eventType, eventHandler);\n\n  return () => {\n    window.removeEventListener(eventType, eventHandler);\n  };\n};\n\nexport const subscribeToWidgetEvents = (widgetEvents, eventHandler) => {\n  widgetEvents.forEach((eventType) => window.addEventListener(eventType, eventHandler));\n\n  return () => {\n    widgetEvents.forEach((eventType) => window.removeEventListener(eventType, eventHandler));\n  };\n};\n\nexport const widgetEventToFSA = (widgetEvent) => {\n  // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\n  const {\n    type,\n    detail: { payload, error, meta },\n  } = widgetEvent;\n  return { type, payload, error, meta };\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport retargetEvents from 'react-shadow-dom-retarget-events';\n\nimport { StylesProvider, jssPreset, createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { create } from 'jss';\n\nimport KeycloakContext from 'auth/KeycloakContext';\nimport { PaginationProvider } from 'components/pagination/PaginationContext';\nimport AlltywpsqlTableContainer from 'components/AlltywpsqlTableContainer';\nimport setLocale from 'i18n/setLocale';\nimport {\n  createWidgetEventPublisher,\n  subscribeToWidgetEvents,\n  subscribeToWidgetEvent,\n  widgetEventToFSA,\n} from 'helpers/widgetEvents';\nimport {\n  INPUT_EVENT_TYPES,\n  OUTPUT_EVENT_TYPES,\n  KEYCLOAK_EVENT_TYPE,\n} from 'custom-elements/widgetEventTypes';\n\nconst getKeycloakInstance = () =>\n  (window &&\n    window.entando &&\n    window.entando.keycloak && { ...window.entando.keycloak, initialized: true }) || {\n    initialized: false,\n  };\n\nconst ATTRIBUTES = {\n  hidden: 'hidden',\n  locale: 'locale',\n  paginationMode: 'pagination-mode',\n  disableDefaultEventHandler: 'disable-default-event-handler', // custom element attribute names MUST be written in kebab-case\n  serviceUrl: 'service-url',\n};\n\nclass AlltywpsqlTableElement extends HTMLElement {\n  muiTheme;\n\n  jss;\n\n  container;\n\n  mountPoint;\n\n  unsubscribeFromWidgetEvents;\n\n  unsubscribeFromKeycloakEvent;\n\n  defaultEventHandlerDisabled;\n\n  keycloak = getKeycloakInstance();\n\n  onAdd = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.add);\n\n  onError = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.error);\n\n  onSelect = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.select);\n\n  onDelete = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.delete);\n\n  reactRootRef = React.createRef();\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (!this.container || oldValue === newValue) {\n      return;\n    }\n    if (!Object.values(ATTRIBUTES).includes(name)) {\n      throw new Error(`Untracked changed attribute: ${name}`);\n    }\n\n    if (name === ATTRIBUTES.disableDefaultEventHandler) {\n      this.onToggleDisableDefaultEvent();\n    }\n\n    this.render();\n  }\n\n  connectedCallback() {\n    this.container = document.createElement('div');\n    this.mountPoint = document.createElement('div');\n    this.container.appendChild(this.mountPoint);\n\n    const shadowRoot = this.attachShadow({ mode: 'open' });\n    shadowRoot.appendChild(this.container);\n\n    this.jss = create({\n      ...jssPreset(),\n      insertionPoint: this.container,\n    });\n\n    this.muiTheme = createMuiTheme({\n      props: {\n        MuiDialog: {\n          container: this.mountPoint,\n        },\n      },\n    });\n\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\n\n    this.unsubscribeFromKeycloakEvent = subscribeToWidgetEvent(KEYCLOAK_EVENT_TYPE, () => {\n      this.keycloak = { ...getKeycloakInstance(), initialized: true };\n      this.render();\n    });\n\n    this.onToggleDisableDefaultEvent();\n\n    this.render();\n\n    retargetEvents(shadowRoot);\n  }\n\n  disconnectedCallback() {\n    if (this.unsubscribeFromWidgetEvents) {\n      this.unsubscribeFromWidgetEvents();\n    }\n    if (this.unsubscribeFromKeycloakEvent) {\n      this.unsubscribeFromKeycloakEvent();\n    }\n  }\n\n  defaultWidgetEventHandler() {\n    return (evt) => {\n      const action = widgetEventToFSA(evt);\n      this.reactRootRef.current.dispatch(action);\n    };\n  }\n\n  onToggleDisableDefaultEvent() {\n    const disableEventHandler = this.getAttribute(ATTRIBUTES.disableDefaultEventHandler) === 'true';\n\n    if (disableEventHandler !== this.defaultEventHandlerDisabled) {\n      if (!disableEventHandler) {\n        const defaultWidgetEventHandler = this.defaultWidgetEventHandler();\n\n        this.unsubscribeFromWidgetEvents = subscribeToWidgetEvents(\n          Object.values(INPUT_EVENT_TYPES),\n          defaultWidgetEventHandler\n        );\n      } else {\n        if (this.unsubscribeFromWidgetEvents) {\n          this.unsubscribeFromWidgetEvents();\n        }\n        if (this.unsubscribeFromKeycloakEvent) {\n          this.unsubscribeFromKeycloakEvent();\n        }\n      }\n      this.defaultEventHandlerDisabled = disableEventHandler;\n    }\n  }\n\n  render() {\n    const hidden = this.getAttribute(ATTRIBUTES.hidden) === 'true';\n    if (hidden) {\n      return;\n    }\n\n    const locale = this.getAttribute(ATTRIBUTES.locale);\n    setLocale(locale);\n\n    const paginationMode = this.getAttribute(ATTRIBUTES.paginationMode) || '';\n\n    const serviceUrl = this.getAttribute(ATTRIBUTES.serviceUrl) || '';\n\n    ReactDOM.render(\n      <KeycloakContext.Provider value={this.keycloak}>\n        <StylesProvider jss={this.jss}>\n          <ThemeProvider theme={this.muiTheme}>\n            <PaginationProvider paginationMode={paginationMode}>\n              <AlltywpsqlTableContainer\n                ref={this.reactRootRef}\n                onAdd={this.onAdd}\n                onDelete={this.onDelete}\n                onSelect={this.onSelect}\n                onError={this.onError}\n                paginationMode={paginationMode}\n                serviceUrl={serviceUrl}\n              />\n            </PaginationProvider>\n          </ThemeProvider>\n        </StylesProvider>\n      </KeycloakContext.Provider>,\n      this.mountPoint\n    );\n  }\n}\n\ncustomElements.define('alltywpsql-table', AlltywpsqlTableElement);\n"],"sourceRoot":""}